---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: environments.composer.gcp.upbound.io
spec:
  group: composer.gcp.upbound.io
  names:
    categories:
    - crossplane
    - managed
    - gcp
    kind: Environment
    listKind: EnvironmentList
    plural: environments
    singular: environment
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: READY
      type: string
    - jsonPath: .status.conditions[?(@.type=='Synced')].status
      name: SYNCED
      type: string
    - jsonPath: .metadata.annotations.crossplane\.io/external-name
      name: EXTERNAL-NAME
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: Environment is the Schema for the Environments API. An environment
          for running orchestration tasks.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: EnvironmentSpec defines the desired state of Environment
            properties:
              deletionPolicy:
                default: Delete
                description: DeletionPolicy specifies what will happen to the underlying
                  external when this managed resource is deleted - either "Delete"
                  or "Orphan" the external resource.
                enum:
                - Orphan
                - Delete
                type: string
              forProvider:
                properties:
                  config:
                    items:
                      properties:
                        databaseConfig:
                          description: The configuration settings for Cloud SQL instance
                            used internally by Apache Airflow software.
                          items:
                            properties:
                              machineType:
                                type: string
                            required:
                            - machineType
                            type: object
                          type: array
                        encryptionConfig:
                          description: The encryption options for the Cloud Composer
                            environment and its dependencies.
                          items:
                            properties:
                              kmsKeyName:
                                description: Customer-managed Encryption Key available
                                  through Google's Key Management Service. It must
                                  be the fully qualified resource name, i.e. projects/project-id/locations/location/keyRings/keyring/cryptoKeys/key.
                                  Cannot be updated.
                                type: string
                            required:
                            - kmsKeyName
                            type: object
                          type: array
                        environmentSize:
                          description: The environment size controls the performance
                            parameters of the managed Cloud Composer infrastructure
                            that includes the Airflow database. Values for environment
                            size are ENVIRONMENT_SIZE_SMALL, ENVIRONMENT_SIZE_MEDIUM,
                            and ENVIRONMENT_SIZE_LARGE.
                          type: string
                        maintenanceWindow:
                          items:
                            properties:
                              endTime:
                                type: string
                              recurrence:
                                type: string
                              startTime:
                                type: string
                            required:
                            - endTime
                            - recurrence
                            - startTime
                            type: object
                          type: array
                        nodeConfig:
                          items:
                            properties:
                              diskSizeGb:
                                description: The disk size in GB used for node VMs.
                                  Minimum size is 20GB. If unspecified, defaults to
                                  100GB. Cannot be updated.
                                type: number
                              ipAllocationPolicy:
                                items:
                                  properties:
                                    clusterIpv4CidrBlock:
                                      type: string
                                    clusterSecondaryRangeName:
                                      type: string
                                    servicesIpv4CidrBlock:
                                      type: string
                                    servicesSecondaryRangeName:
                                      type: string
                                    useIpAliases:
                                      description: Whether or not to enable Alias
                                        IPs in the GKE cluster. If true, a VPC-native
                                        cluster is created. Defaults to true if the
                                        ip_allocation_policy block is present in config.
                                      type: boolean
                                  type: object
                                type: array
                              machineType:
                                type: string
                              network:
                                type: string
                              networkRef:
                                description: Reference to a Network in compute to
                                  populate network.
                                properties:
                                  name:
                                    description: Name of the referenced object.
                                    type: string
                                  policy:
                                    description: Policies for referencing.
                                    properties:
                                      resolution:
                                        default: Required
                                        description: Resolution specifies whether
                                          resolution of this reference is required.
                                          The default is 'Required', which means the
                                          reconcile will fail if the reference cannot
                                          be resolved. 'Optional' means this reference
                                          will be a no-op if it cannot be resolved.
                                        enum:
                                        - Required
                                        - Optional
                                        type: string
                                      resolve:
                                        description: Resolve specifies when this reference
                                          should be resolved. The default is 'IfNotPresent',
                                          which will attempt to resolve the reference
                                          only when the corresponding field is not
                                          present. Use 'Always' to resolve the reference
                                          on every reconcile.
                                        enum:
                                        - Always
                                        - IfNotPresent
                                        type: string
                                    type: object
                                required:
                                - name
                                type: object
                              networkSelector:
                                description: Selector for a Network in compute to
                                  populate network.
                                properties:
                                  matchControllerRef:
                                    description: MatchControllerRef ensures an object
                                      with the same controller reference as the selecting
                                      object is selected.
                                    type: boolean
                                  matchLabels:
                                    additionalProperties:
                                      type: string
                                    description: MatchLabels ensures an object with
                                      matching labels is selected.
                                    type: object
                                  policy:
                                    description: Policies for selection.
                                    properties:
                                      resolution:
                                        default: Required
                                        description: Resolution specifies whether
                                          resolution of this reference is required.
                                          The default is 'Required', which means the
                                          reconcile will fail if the reference cannot
                                          be resolved. 'Optional' means this reference
                                          will be a no-op if it cannot be resolved.
                                        enum:
                                        - Required
                                        - Optional
                                        type: string
                                      resolve:
                                        description: Resolve specifies when this reference
                                          should be resolved. The default is 'IfNotPresent',
                                          which will attempt to resolve the reference
                                          only when the corresponding field is not
                                          present. Use 'Always' to resolve the reference
                                          on every reconcile.
                                        enum:
                                        - Always
                                        - IfNotPresent
                                        type: string
                                    type: object
                                type: object
                              oauthScopes:
                                description: The set of Google API scopes to be made
                                  available on all node VMs. Cannot be updated. If
                                  empty, defaults to ["https://www.googleapis.com/auth/cloud-platform"].
                                items:
                                  type: string
                                type: array
                              serviceAccount:
                                type: string
                              serviceAccountRef:
                                description: Reference to a ServiceAccount in cloudplatform
                                  to populate serviceAccount.
                                properties:
                                  name:
                                    description: Name of the referenced object.
                                    type: string
                                  policy:
                                    description: Policies for referencing.
                                    properties:
                                      resolution:
                                        default: Required
                                        description: Resolution specifies whether
                                          resolution of this reference is required.
                                          The default is 'Required', which means the
                                          reconcile will fail if the reference cannot
                                          be resolved. 'Optional' means this reference
                                          will be a no-op if it cannot be resolved.
                                        enum:
                                        - Required
                                        - Optional
                                        type: string
                                      resolve:
                                        description: Resolve specifies when this reference
                                          should be resolved. The default is 'IfNotPresent',
                                          which will attempt to resolve the reference
                                          only when the corresponding field is not
                                          present. Use 'Always' to resolve the reference
                                          on every reconcile.
                                        enum:
                                        - Always
                                        - IfNotPresent
                                        type: string
                                    type: object
                                required:
                                - name
                                type: object
                              serviceAccountSelector:
                                description: Selector for a ServiceAccount in cloudplatform
                                  to populate serviceAccount.
                                properties:
                                  matchControllerRef:
                                    description: MatchControllerRef ensures an object
                                      with the same controller reference as the selecting
                                      object is selected.
                                    type: boolean
                                  matchLabels:
                                    additionalProperties:
                                      type: string
                                    description: MatchLabels ensures an object with
                                      matching labels is selected.
                                    type: object
                                  policy:
                                    description: Policies for selection.
                                    properties:
                                      resolution:
                                        default: Required
                                        description: Resolution specifies whether
                                          resolution of this reference is required.
                                          The default is 'Required', which means the
                                          reconcile will fail if the reference cannot
                                          be resolved. 'Optional' means this reference
                                          will be a no-op if it cannot be resolved.
                                        enum:
                                        - Required
                                        - Optional
                                        type: string
                                      resolve:
                                        description: Resolve specifies when this reference
                                          should be resolved. The default is 'IfNotPresent',
                                          which will attempt to resolve the reference
                                          only when the corresponding field is not
                                          present. Use 'Always' to resolve the reference
                                          on every reconcile.
                                        enum:
                                        - Always
                                        - IfNotPresent
                                        type: string
                                    type: object
                                type: object
                              subnetwork:
                                type: string
                              subnetworkRef:
                                description: Reference to a Subnetwork in compute
                                  to populate subnetwork.
                                properties:
                                  name:
                                    description: Name of the referenced object.
                                    type: string
                                  policy:
                                    description: Policies for referencing.
                                    properties:
                                      resolution:
                                        default: Required
                                        description: Resolution specifies whether
                                          resolution of this reference is required.
                                          The default is 'Required', which means the
                                          reconcile will fail if the reference cannot
                                          be resolved. 'Optional' means this reference
                                          will be a no-op if it cannot be resolved.
                                        enum:
                                        - Required
                                        - Optional
                                        type: string
                                      resolve:
                                        description: Resolve specifies when this reference
                                          should be resolved. The default is 'IfNotPresent',
                                          which will attempt to resolve the reference
                                          only when the corresponding field is not
                                          present. Use 'Always' to resolve the reference
                                          on every reconcile.
                                        enum:
                                        - Always
                                        - IfNotPresent
                                        type: string
                                    type: object
                                required:
                                - name
                                type: object
                              subnetworkSelector:
                                description: Selector for a Subnetwork in compute
                                  to populate subnetwork.
                                properties:
                                  matchControllerRef:
                                    description: MatchControllerRef ensures an object
                                      with the same controller reference as the selecting
                                      object is selected.
                                    type: boolean
                                  matchLabels:
                                    additionalProperties:
                                      type: string
                                    description: MatchLabels ensures an object with
                                      matching labels is selected.
                                    type: object
                                  policy:
                                    description: Policies for selection.
                                    properties:
                                      resolution:
                                        default: Required
                                        description: Resolution specifies whether
                                          resolution of this reference is required.
                                          The default is 'Required', which means the
                                          reconcile will fail if the reference cannot
                                          be resolved. 'Optional' means this reference
                                          will be a no-op if it cannot be resolved.
                                        enum:
                                        - Required
                                        - Optional
                                        type: string
                                      resolve:
                                        description: Resolve specifies when this reference
                                          should be resolved. The default is 'IfNotPresent',
                                          which will attempt to resolve the reference
                                          only when the corresponding field is not
                                          present. Use 'Always' to resolve the reference
                                          on every reconcile.
                                        enum:
                                        - Always
                                        - IfNotPresent
                                        type: string
                                    type: object
                                type: object
                              tags:
                                description: The list of instance tags applied to
                                  all node VMs. Tags are used to identify valid sources
                                  or targets for network firewalls. Each tag within
                                  the list must comply with RFC1035. Cannot be updated.
                                items:
                                  type: string
                                type: array
                              zone:
                                description: The Compute Engine zone in which to deploy
                                  the VMs running the Apache Airflow software, specified
                                  as the zone name or relative resource name . Must
                                  belong to the enclosing environment's project and
                                  region.
                                type: string
                            type: object
                          type: array
                        nodeCount:
                          description: The number of nodes in the Kubernetes Engine
                            cluster of the environment.
                          type: number
                        privateEnvironmentConfig:
                          items:
                            properties:
                              cloudComposerConnectionSubnetwork:
                                type: string
                              cloudComposerNetworkIpv4CidrBlock:
                                type: string
                              cloudSqlIpv4CidrBlock:
                                type: string
                              enablePrivateEndpoint:
                                type: boolean
                              masterIpv4CidrBlock:
                                type: string
                              webServerIpv4CidrBlock:
                                description: The CIDR block from which IP range for
                                  web server will be reserved. Needs to be disjoint
                                  from master_ipv4_cidr_block and cloud_sql_ipv4_cidr_block.
                                type: string
                            type: object
                          type: array
                        softwareConfig:
                          items:
                            properties:
                              airflowConfigOverrides:
                                additionalProperties:
                                  type: string
                                type: object
                              envVariables:
                                additionalProperties:
                                  type: string
                                type: object
                              imageVersion:
                                type: string
                              pypiPackages:
                                additionalProperties:
                                  type: string
                                type: object
                              pythonVersion:
                                description: The major version of Python used to run
                                  the Apache Airflow scheduler, worker, and webserver
                                  processes. Can be set to '2' or '3'. If not specified,
                                  the default is '3'.
                                type: string
                              schedulerCount:
                                description: The number of schedulers for Airflow.
                                type: number
                            type: object
                          type: array
                        webServerConfig:
                          description: The configuration settings for the Airflow
                            web server App Engine instance.
                          items:
                            properties:
                              machineType:
                                type: string
                            required:
                            - machineType
                            type: object
                          type: array
                        webServerNetworkAccessControl:
                          description: The network-level access control policy for
                            the Airflow web server. If unspecified, no network-level
                            access restrictions are applied.
                          items:
                            properties:
                              allowedIpRange:
                                description: A collection of allowed IP ranges with
                                  descriptions. Structure is documented below.
                                items:
                                  properties:
                                    description:
                                      description: A description of this ip range.
                                      type: string
                                    value:
                                      description: 'IP address or range, defined using
                                        CIDR notation, of requests that this rule
                                        applies to. Examples: 192.168.1.1 or 192.168.0.0/16
                                        or 2001:db8::/32 or 2001:0db8:0000:0042:0000:8a2e:0370:7334.
                                        IP range prefixes should be properly truncated.
                                        For example, 1.2.3.4/24 should be truncated
                                        to 1.2.3.0/24. Similarly, for IPv6, 2001:db8::1/32
                                        should be truncated to 2001:db8::/32.'
                                      type: string
                                  required:
                                  - value
                                  type: object
                                type: array
                            type: object
                          type: array
                        workloadsConfig:
                          description: The Kubernetes workloads configuration for
                            GKE cluster associated with the Cloud Composer environment.
                          items:
                            properties:
                              scheduler:
                                description: Configuration for resources used by Airflow
                                  schedulers.
                                items:
                                  properties:
                                    count:
                                      description: The number of schedulers.
                                      type: number
                                    cpu:
                                      type: number
                                    memoryGb:
                                      type: number
                                    storageGb:
                                      type: number
                                  type: object
                                type: array
                              webServer:
                                description: Configuration for resources used by Airflow
                                  web server.
                                items:
                                  properties:
                                    cpu:
                                      type: number
                                    memoryGb:
                                      type: number
                                    storageGb:
                                      type: number
                                  type: object
                                type: array
                              worker:
                                description: Configuration for resources used by Airflow
                                  workers.
                                items:
                                  properties:
                                    cpu:
                                      type: number
                                    maxCount:
                                      description: The maximum number of Airflow workers
                                        that the environment can run. The number of
                                        workers in the environment does not go above
                                        this number, even if a higher number of workers
                                        is required to handle the load.
                                      type: number
                                    memoryGb:
                                      type: number
                                    minCount:
                                      description: The minimum number of Airflow workers
                                        that the environment can run. The number of
                                        workers in the environment does not go above
                                        this number, even if a lower number of workers
                                        can handle the load.
                                      type: number
                                    storageGb:
                                      type: number
                                  type: object
                                type: array
                            type: object
                          type: array
                      type: object
                    type: array
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                  project:
                    type: string
                  projectRef:
                    description: Reference to a Project in cloudplatform to populate
                      project.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: Resolution specifies whether resolution of
                              this reference is required. The default is 'Required',
                              which means the reconcile will fail if the reference
                              cannot be resolved. 'Optional' means this reference
                              will be a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: Resolve specifies when this reference should
                              be resolved. The default is 'IfNotPresent', which will
                              attempt to resolve the reference only when the corresponding
                              field is not present. Use 'Always' to resolve the reference
                              on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  projectSelector:
                    description: Selector for a Project in cloudplatform to populate
                      project.
                    properties:
                      matchControllerRef:
                        description: MatchControllerRef ensures an object with the
                          same controller reference as the selecting object is selected.
                        type: boolean
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: MatchLabels ensures an object with matching labels
                          is selected.
                        type: object
                      policy:
                        description: Policies for selection.
                        properties:
                          resolution:
                            default: Required
                            description: Resolution specifies whether resolution of
                              this reference is required. The default is 'Required',
                              which means the reconcile will fail if the reference
                              cannot be resolved. 'Optional' means this reference
                              will be a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: Resolve specifies when this reference should
                              be resolved. The default is 'IfNotPresent', which will
                              attempt to resolve the reference only when the corresponding
                              field is not present. Use 'Always' to resolve the reference
                              on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    type: object
                  region:
                    type: string
                required:
                - region
                type: object
              providerConfigRef:
                default:
                  name: default
                description: ProviderConfigReference specifies how the provider that
                  will be used to create, observe, update, and delete this managed
                  resource should be configured.
                properties:
                  name:
                    description: Name of the referenced object.
                    type: string
                  policy:
                    description: Policies for referencing.
                    properties:
                      resolution:
                        default: Required
                        description: Resolution specifies whether resolution of this
                          reference is required. The default is 'Required', which
                          means the reconcile will fail if the reference cannot be
                          resolved. 'Optional' means this reference will be a no-op
                          if it cannot be resolved.
                        enum:
                        - Required
                        - Optional
                        type: string
                      resolve:
                        description: Resolve specifies when this reference should
                          be resolved. The default is 'IfNotPresent', which will attempt
                          to resolve the reference only when the corresponding field
                          is not present. Use 'Always' to resolve the reference on
                          every reconcile.
                        enum:
                        - Always
                        - IfNotPresent
                        type: string
                    type: object
                required:
                - name
                type: object
              providerRef:
                description: 'ProviderReference specifies the provider that will be
                  used to create, observe, update, and delete this managed resource.
                  Deprecated: Please use ProviderConfigReference, i.e. `providerConfigRef`'
                properties:
                  name:
                    description: Name of the referenced object.
                    type: string
                  policy:
                    description: Policies for referencing.
                    properties:
                      resolution:
                        default: Required
                        description: Resolution specifies whether resolution of this
                          reference is required. The default is 'Required', which
                          means the reconcile will fail if the reference cannot be
                          resolved. 'Optional' means this reference will be a no-op
                          if it cannot be resolved.
                        enum:
                        - Required
                        - Optional
                        type: string
                      resolve:
                        description: Resolve specifies when this reference should
                          be resolved. The default is 'IfNotPresent', which will attempt
                          to resolve the reference only when the corresponding field
                          is not present. Use 'Always' to resolve the reference on
                          every reconcile.
                        enum:
                        - Always
                        - IfNotPresent
                        type: string
                    type: object
                required:
                - name
                type: object
              publishConnectionDetailsTo:
                description: PublishConnectionDetailsTo specifies the connection secret
                  config which contains a name, metadata and a reference to secret
                  store config to which any connection details for this managed resource
                  should be written. Connection details frequently include the endpoint,
                  username, and password required to connect to the managed resource.
                properties:
                  configRef:
                    default:
                      name: default
                    description: SecretStoreConfigRef specifies which secret store
                      config should be used for this ConnectionSecret.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: Resolution specifies whether resolution of
                              this reference is required. The default is 'Required',
                              which means the reconcile will fail if the reference
                              cannot be resolved. 'Optional' means this reference
                              will be a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: Resolve specifies when this reference should
                              be resolved. The default is 'IfNotPresent', which will
                              attempt to resolve the reference only when the corresponding
                              field is not present. Use 'Always' to resolve the reference
                              on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  metadata:
                    description: Metadata is the metadata for connection secret.
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: Annotations are the annotations to be added to
                          connection secret. - For Kubernetes secrets, this will be
                          used as "metadata.annotations". - It is up to Secret Store
                          implementation for others store types.
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: Labels are the labels/tags to be added to connection
                          secret. - For Kubernetes secrets, this will be used as "metadata.labels".
                          - It is up to Secret Store implementation for others store
                          types.
                        type: object
                      type:
                        description: Type is the SecretType for the connection secret.
                          - Only valid for Kubernetes Secret Stores.
                        type: string
                    type: object
                  name:
                    description: Name is the name of the connection secret.
                    type: string
                required:
                - name
                type: object
              writeConnectionSecretToRef:
                description: WriteConnectionSecretToReference specifies the namespace
                  and name of a Secret to which any connection details for this managed
                  resource should be written. Connection details frequently include
                  the endpoint, username, and password required to connect to the
                  managed resource. This field is planned to be replaced in a future
                  release in favor of PublishConnectionDetailsTo. Currently, both
                  could be set independently and connection details would be published
                  to both without affecting each other.
                properties:
                  name:
                    description: Name of the secret.
                    type: string
                  namespace:
                    description: Namespace of the secret.
                    type: string
                required:
                - name
                - namespace
                type: object
            required:
            - forProvider
            type: object
          status:
            description: EnvironmentStatus defines the observed state of Environment.
            properties:
              atProvider:
                properties:
                  config:
                    items:
                      properties:
                        airflowUri:
                          type: string
                        dagGcsPrefix:
                          type: string
                        gkeCluster:
                          type: string
                      type: object
                    type: array
                  id:
                    description: an identifier for the resource with format projects/{{project}}/locations/{{region}}/environments/{{name}}
                    type: string
                type: object
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time this condition
                        transitioned from one status to another.
                      format: date-time
                      type: string
                    message:
                      description: A Message containing details about this condition's
                        last transition from one status to another, if any.
                      type: string
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: Type of this condition. At most one of each condition
                        type may apply to a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
